**为什么要进行Android屏幕适配？**

 - Android系统碎片化：
 小米定制的MIUI、魅族定制的flyme、华为定制的EMUI等等。
 
 - Android屏幕尺寸碎片化：
 5英寸、5.5英寸、6英寸等等。
 
 - Android屏幕分辨率碎片化：
 320\*480、480\*800、720\*1280、1080\*1920等等。
 
 
**相关概念**

1. 屏幕尺寸

	- 含义：按屏幕对角测量的实际物理尺寸。
    为简便起见，Android 将所有实际屏幕尺寸分组为四种通用尺寸：小、 正常、大和超大。
    
   - 单位:英寸（inch），一英寸≈2.54cm。

 2. 分辨率
 
    - 含义：手机在横向、纵向上的像素点数总和。
    屏幕在横向上有A个像素点，在纵向上有B个像素点，一般描述成屏幕的"宽\*高"=A\*B。
    
    - 单位：px（pixel），1px=1像素点。
    
3. 屏幕像素密度

    - 含义：每英寸的像素点数。
    
    - 单位：dpi（dots per inch）。
    
4. 屏幕尺寸、分辨率、屏幕像素密度三者关系
    
    屏幕像素密度=&radic;(横向像素点数<sup>2</sup>+纵向像素点数<sup>2</sup>)/屏幕尺寸。
    
5. 密度无关像素 

    - 含义：density-independent pixel，叫dp或dip，与终端上的实际物理像素点无关。
    可以保证在不同屏幕像素密度的设备上显示相同的效果。
    
    - 单位：dp。
    
    - dp与px的转换
    
      |   密度类型  |  分辨率（px)   |    屏幕像素密度(dpi)  |    换算(px/dp)  |	比例	|
      | --- | --- | --- | --- | --- |
      |    低密度（ldpi）  |   240\*320  |   120  |   1dp=0.75px  |	 3  |
      |    中密度（mdpi） |  320\*480   |   160  |  1dp=1px   |	4  |
      |    高密度（hdpi）  |  480\*800   |  240   |  1dp=1.5px   |  6	|
      |    超高密度（xhdpi）  |  720\*1280   |  320   |  1dp=2px   |	 8	|
      |    超超高密度（xxhdpi）  |  1080\*1920   |  480   |  1dp=3px   |	12	|
      
      在Android中，规定以160dpi（即屏幕分辨率为320x480）为基准：1dp=1px。
    
6.  独立比例像素

    - 含义：scale-independent pixel，叫sp或sip。
    - 单位：sp。

    Android开发时用此单位设置文字大小，可根据字体大小首选项进行缩放。
	推荐使用12sp、14sp、18sp、22sp作为字体设置的大小，不推荐使用奇数和小数，容易造成精度的丢失问题；小于12sp的字体会太小导致用户看不清。


**如何适配?**

1. 布局适配

    - 使用相对布局（RelativeLayout），禁用绝对布局（AbsoluteLayout）
    
      - 绝对布局（AbsoluteLayout）适配性极差，所以极少使用；
      
      - 相对布局（RelativeLayout）讲究的是相对位置，即使屏幕的大小改变，视图之前的相对位置都不会变化，与屏幕大小无关，灵活性很强；
      
      - 线性布局（Linearlayout）、相对布局（RelativeLayout）和帧布局（FrameLayout）需要根据需求进行选择；
    
      对于屏幕适配来说，使用相对布局（RelativeLayout）将会是更好的解决方案。
    
    - 根据屏幕的配置来加载相应的UI布局
 
      - 屏幕分辨率限定符
      在 res 文件夹下创建各种屏幕分辨率对应的 values-xxx 文件夹。
    
      - 最小宽度（Smallest-width）限定符
      在Android 3.2及之后版本，引入了最小宽度（Smallest-width）限定符。
      定义：通过指定某个最小宽度（以 dp 为单位）来精确定位屏幕从而加载不同的UI资源。
      
      - 屏幕分辨率限定符与最小宽度（Smallest-width）限定符比较
      屏幕分辨率限定符适配是根据屏幕分辨率的，还要考虑虚拟键盘； 屏幕分辨率限定符适配采用的是 px 单位，而 smallestWidth 限定符适配采用的单位是 dp 和 sp；屏幕分辨率限定符适配需要设备分辨率与 values-xxx 文件夹完全匹配才能达到适配，而 smallestWidth 限定符适配寻找 dimens.xml 文件的原理是从大往小找，即使没有完全匹配也能达到不错的适配效果。
      
2. 屏幕尺寸适配（本质：使布局组件自适应屏幕尺寸）
    通过使用"wrap_content"、"match_parent"和"weight"来替代硬编码的方式定义视图大小&位置，你的视图要么仅仅使用了需要的那边一点空间，要么就会充满所有可用的空间，即按需占据空间大小，能让你的布局元素充分适应你的屏幕尺寸，大部分的情况都是可以做到适配的。
    
    - 使用"wrap_content"
    相应视图的宽和高就会被设定成所需的最小尺寸以适应视图中的内容。
    
    - 使用"match_parent"(在Android API 8之前叫作"fill_parent")
    视图的宽和高延伸至充满整个父布局。
    
    - 使用"weight"
      - 定义：是线性布局（Linelayout）的一个独特比例分配属性。
      - 作用：使用此属性设置权重，然后按照比例对界面进行空间的分配。
      - 公式计算：    
      控件宽度=控件设置宽度+剩余空间所占百分比宽幅。

3. 图片资源适配（本质：使图片资源在不同屏幕密度上显示相同的像素效果）

    - 使用场景：
    一个按钮的背景图片必须能够随着按钮大小的改变而改变。
    使用普通的图片将无法实现上述功能,因为运行时会均匀地拉伸或压缩你的图片。
    
    -  解决方案：
    使用自动拉伸位图（nine-patch图片），后缀名是.9.png。
    它是一种被特殊处理过的PNG图片，设计时可以指定图片的拉伸区域和非拉伸区域；使用时，系统就会根据控件的大小自动地拉伸你想要拉伸的部分。
    
4. 屏幕密度适配

    -  "布局控件"匹配（本质：使布局控件在不同屏幕密度上显示相同的像素效果）
    
        - 由于各种屏幕的像素密度都有所不同，因此相同数量的像素在不同设备上的实际大小也有所差异，请务必使用密度无关像素 dp 或独立比例像素 sp 单位指定尺寸。
        
        - 由于Android屏幕设备的多样性，并不是所有的屏幕的宽度都具备相同的dp长度，如果使用dp来作为度量单位，虽然解决了同一数值在不同分辨率中展示相同尺寸大小的问题（即屏幕像素密度适配问题），但却没有解决设备尺寸大小适配的问题。

     - "图片资源"匹配（本质：使图片资源在不同屏幕密度上显示相同的像素效果）
     
       - 提供备用位图（符合屏幕尺寸的图片资源）；
       
       - 将各屏幕密度图片文件放在 res/ 下的相应子目录中(mdpi、hdpi、xhdpi、xxhdpi)，系统就会根据运行您应用的设备的屏幕密度自动选择合适的图片；
       
       - 通过引用 @drawable/资源id，系统就能根据相应屏幕的屏幕密度（dpi）自动选取合适的位图。
      
          如果是.9图或者是不需要多个分辨率的图片，放在drawable文件夹即可。
          对应分辨率的图片要正确的放在合适的文件夹，否则会造成图片拉伸等问题。
          
        - 缺点：
          
            - 每套分辨率出一套图，为美工或者设计增加了许多工作量
            
            - 使得Android工程文件的apk包变的很大
            
         - 解决办法：
         只需要提供一种分辨率规格的图片资源就可以。
         首选xhdpi：
         
             - xhdpi分辨率以内的手机需求量最旺盛
             
             - 节省设计资源&工作量


















